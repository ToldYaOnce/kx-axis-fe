{
  "run": {
    "runId": "run-fitness-001",
    "flowId": "flow-fitness-onboarding",
    "flowName": "Fitness Onboarding Flow",
    "scenarioContext": {
      "channel": "SMS",
      "leadState": "ANONYMOUS",
      "resumable": false
    },
    "branches": [
      {
        "branchId": "branch-main",
        "parentBranchId": null,
        "forkFromNodeId": null,
        "label": "Main",
        "createdAt": "2026-01-12T10:00:00Z"
      },
      {
        "branchId": "branch-strength",
        "parentBranchId": "branch-main",
        "forkFromNodeId": "node-001",
        "label": "Alt: Strength Goal",
        "createdAt": "2026-01-12T10:01:00Z"
      },
      {
        "branchId": "branch-urgent",
        "parentBranchId": "branch-strength",
        "forkFromNodeId": "node-103",
        "label": "Alt: Urgent Timeline",
        "createdAt": "2026-01-12T10:03:00Z"
      },
      {
        "branchId": "branch-weight-loss",
        "parentBranchId": "branch-main",
        "forkFromNodeId": "node-001",
        "label": "Alt: Weight Loss Goal",
        "createdAt": "2026-01-12T10:01:30Z"
      }
    ],
    "nodes": [
      {
        "nodeId": "node-001",
        "parentNodeId": null,
        "branchId": "branch-main",
        "turnNumber": 1,
        "agentMessage": "Hey! Ready to crush some goals? What brings you here today?",
        "knownFactsBefore": {},
        "controllerOutput": {
          "intent": { "primary": "ENGAGE", "confidence": 0.95 },
          "affectScalars": { "pain": 0, "urgency": 0, "vulnerability": 0 },
          "signals": { "hesitation": false, "objection": false, "confusion": false, "engagement": 8 },
          "progress": { "madeProgress": true, "stallDetected": false, "stagnationTurns": 0 },
          "stepSufficiency": false,
          "controlFlags": {
            "canAdvance": true,
            "needsExplanation": false,
            "fastTrackEligible": false,
            "humanTakeoverAllowed": false,
            "allowedBlabberModes": ["ACK"]
          }
        },
        "executionResult": {
          "executionDecision": "ADVANCE",
          "reasoning": "Conversation progressing normally.",
          "agentMessage": "Hey! Ready to crush some goals? What brings you here today?",
          "executionMetadata": {
            "blabberModeUsed": "ACK",
            "stepSatisfiedThisTurn": true,
            "newlyKnownFacts": [],
            "readinessDelta": []
          }
        },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:00:00Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-002",
        "parentNodeId": "node-001",
        "branchId": "branch-main",
        "turnNumber": 2,
        "userMessage": "I want to improve my cardio and run a 5K",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:00:30Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-003",
        "parentNodeId": "node-002",
        "branchId": "branch-main",
        "turnNumber": 3,
        "agentMessage": "Awesome! Running a 5K is a great goal. Have you done any running before, or is this your first time?",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:00:45Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-004",
        "parentNodeId": "node-003",
        "branchId": "branch-main",
        "turnNumber": 4,
        "userMessage": "I used to run in high school but took a long break",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:01:00Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-005",
        "parentNodeId": "node-004",
        "branchId": "branch-main",
        "turnNumber": 5,
        "agentMessage": "Perfect! Getting back into running is easier than starting fresh. Let's build you a progressive 8-week plan. When are you hoping to run your 5K?",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:01:15Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-101",
        "parentNodeId": "node-001",
        "branchId": "branch-strength",
        "turnNumber": 2,
        "userMessage": "I want to bench 300 lbs",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:01:00Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-102",
        "parentNodeId": "node-101",
        "branchId": "branch-strength",
        "turnNumber": 3,
        "agentMessage": "Nice! 300 on bench is solid. Where are you at right now with that?",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:01:15Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-103",
        "parentNodeId": "node-102",
        "branchId": "branch-strength",
        "turnNumber": 4,
        "userMessage": "Currently at 225, been stuck for a few months",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:01:30Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-104",
        "parentNodeId": "node-103",
        "branchId": "branch-strength",
        "turnNumber": 5,
        "agentMessage": "That's a 75lb jump - ambitious! Let's break that plateau. Are you following a program right now?",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:01:45Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-105",
        "parentNodeId": "node-104",
        "branchId": "branch-strength",
        "turnNumber": 6,
        "userMessage": "Just doing my own thing, 3x a week",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:02:00Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-106",
        "parentNodeId": "node-105",
        "branchId": "branch-strength",
        "turnNumber": 7,
        "agentMessage": "Got it. A structured program will be key. We can build you a 12-16 week progression with periodization. What's your timeline like?",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:02:15Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-301",
        "parentNodeId": "node-103",
        "branchId": "branch-urgent",
        "turnNumber": 5,
        "userMessage": "I need to hit 300 in 6 weeks for a competition",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:03:00Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-302",
        "parentNodeId": "node-301",
        "branchId": "branch-urgent",
        "turnNumber": 6,
        "agentMessage": "Whoa - 6 weeks is really tight for a 75lb jump. That's aggressive even for enhanced lifters. Can we talk about realistic timelines?",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:03:15Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-303",
        "parentNodeId": "node-302",
        "branchId": "branch-urgent",
        "turnNumber": 7,
        "userMessage": "The comp is locked in, I have to try",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:03:30Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-304",
        "parentNodeId": "node-303",
        "branchId": "branch-urgent",
        "turnNumber": 8,
        "agentMessage": "Alright, I respect the commitment. Let's maximize your 6 weeks with a peaking program. Just know that 15-20lbs is more realistic, but we'll push hard. Deal?",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:03:45Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-201",
        "parentNodeId": "node-001",
        "branchId": "branch-weight-loss",
        "turnNumber": 2,
        "userMessage": "I need to lose 30 pounds",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:01:30Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-202",
        "parentNodeId": "node-201",
        "branchId": "branch-weight-loss",
        "turnNumber": 3,
        "agentMessage": "Okay, 30 pounds is definitely achievable. What's driving this goal for you?",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:01:45Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-203",
        "parentNodeId": "node-202",
        "branchId": "branch-weight-loss",
        "turnNumber": 4,
        "userMessage": "Health reasons - my doctor recommended it",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:02:00Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      },
      {
        "nodeId": "node-204",
        "parentNodeId": "node-203",
        "branchId": "branch-weight-loss",
        "turnNumber": 5,
        "agentMessage": "That's important. Health-driven goals tend to stick. How much time are you thinking for this?",
        "knownFactsBefore": {},
        "controllerOutput": { "...": "..." },
        "executionResult": { "...": "..." },
        "knownFactsAfter": {},
        "timestamp": "2026-01-12T10:02:15Z",
        "contractVersion": "1.0.0",
        "designVersionHash": "abc123",
        "status": "VALID"
      }
    ],
    "createdAt": "2026-01-12T10:00:00Z",
    "updatedAt": "2026-01-12T10:03:45Z"
  }
}
